# Generated by Django 2.1.3 on 2019-02-20 12:31

import cc_users.managers
import coopolis.models
from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import simple_history.models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0009_alter_user_last_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('first_name', models.CharField(blank=True, max_length=30, verbose_name='first name')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='last name')),
                ('is_staff', models.BooleanField(default=False, help_text='Designates whether the user can log into this admin site.', verbose_name='staff status')),
                ('is_active', models.BooleanField(default=True, help_text='Designates whether this user should be treated as active. Unselect this instead of deleting accounts.', verbose_name='active')),
                ('date_joined', models.DateTimeField(default=django.utils.timezone.now, verbose_name='date joined')),
                ('email', models.EmailField(max_length=254, unique=True, verbose_name='Correu electrònic')),
                ('is_confirmed', models.BooleanField(default=False)),
                ('username', models.CharField(max_length=150, verbose_name="Nom d'usuari/a")),
                ('surname2', models.CharField(blank=True, max_length=50, null=True, verbose_name='Segon cognom')),
                ('id_number', models.CharField(max_length=11, verbose_name='DNI o NIE')),
                ('gender', models.TextField(blank=True, choices=[('A', 'Altre'), ('D', 'Dona'), ('H', 'Home')], null=True, verbose_name='Gènere')),
                ('birthdate', models.DateField(blank=True, null=True, verbose_name='Data de naixement')),
                ('birth_place', models.TextField(blank=True, choices=[('B', 'Barcelona'), ('C', 'Catalunya'), ('E', 'Espanya'), ('A', 'Altre')], null=True, verbose_name='Lloc de naixement')),
                ('residence_town', models.CharField(blank=True, choices=[('78', 'Badalona'), ('79', 'Badia del Vallès'), ('89', 'Barberà del vallès'), ('90', 'Barcelona'), ('96', 'Begues'), ('200', 'Castellbisbal'), ('203', 'Castelldefels'), ('226', 'Cerdanyola del Vallès'), ('227', 'Cervelló'), ('246', 'Corbera de Llobregat'), ('250', 'Cornellà de Llobregat'), ('527', 'El Papiol'), ('581', 'El Prat de Llobregat'), ('269', 'Esplugues de Llobregat'), ('323', 'Gavà'), ('356', "L'Hospitalet de Llobregat"), ('523', 'La Palma de Cervelló'), ('441', 'Molins de Rei'), ('452', 'Montcada i Reixac '), ('459', 'Montgat'), ('522', 'Pallejà'), ('621', 'Ripollet'), ('653', 'Sant Adrià de Besòs'), ('655', 'Sant Andreu de la barca'), ('661', 'Sant Boi de Llobregat'), ('666', 'Sant Climent de Llobregat'), ('668', 'Sant Cugat del Valles'), ('676', 'Sant Feliu de Llobregat'), ('695', 'Sant Joan Despí'), ('702', 'Sant Just Desvern'), ('738', 'Sant Vicenç dels Horts'), ('743', 'Santa Coloma de Gramenet'), ('818', 'Tiana'), ('841', 'Torrelles de Llobregat'), ('899', 'Viladencans'), ('0', 'Altres')], max_length=150, null=True, verbose_name='Municipi de residència')),
                ('residence_district', models.TextField(blank=True, choices=[('CV', 'Ciutat Vella'), ('EX', 'Eixample'), ('HG', 'Horta-Guinardó'), ('LC', 'Les Corts'), ('NB', 'Nou Barris'), ('SA', 'Sant Andreu'), ('SM', 'Sant Martí'), ('ST', 'Sants-Montjuïc'), ('SS', 'Sarrià-Sant Gervasi'), ('GR', 'Gràcia')], null=True, verbose_name='Barri')),
                ('phone_number', models.CharField(blank=True, max_length=25, null=True, verbose_name='Telèfon')),
                ('educational_level', models.TextField(blank=True, choices=[('MP', 'Màster / Postgrau'), ('SD', 'Secundària'), ('SE', 'Sense estudis'), ('FP', 'Formació professional'), ('FU', 'Estudis universitaris'), ('PR', 'Primària')], null=True, verbose_name="Nivell d'estudis")),
                ('employment_situation', models.TextField(blank=True, choices=[('AP', 'En actiu per compte propi'), ('PS', 'Perceptora de prestacions socials'), ('DO', "Demandant d'ocupació"), ('AA', 'En actiu per compte aliè')], null=True, verbose_name='Situació laboral')),
                ('discovered_us', models.TextField(blank=True, choices=[('IN', 'Per internet i xarxes socials'), ('CO', "A través d'un conegut"), ('AC', 'Per una activitat de Coòpolis'), ('AL', 'Altres')], null=True, verbose_name='Com ens has conegut')),
                ('cooperativism_knowledge', models.TextField(blank=True, help_text='Tens coneixements / formació / experiència en cooperativisme? Quina? Cursos realitzats?', null=True, verbose_name='Coneixements previs')),
                ('adreca_tipus_via', models.CharField(blank=True, max_length=50, null=True, verbose_name='Tipus de via')),
                ('adreca_nom_via', models.CharField(blank=True, max_length=150, null=True, verbose_name='Nom de la via')),
                ('adreca_numero', models.CharField(blank=True, max_length=50, null=True, verbose_name='Número')),
                ('adreca_bloc', models.CharField(blank=True, max_length=50, null=True, verbose_name='Bloc / Escala')),
                ('adreca_planta', models.CharField(blank=True, max_length=50, null=True, verbose_name='Planta')),
                ('adreca_porta', models.CharField(blank=True, max_length=50, null=True, verbose_name='Porta')),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.Group', verbose_name='groups')),
            ],
            options={
                'verbose_name': 'Persona',
                'verbose_name_plural': 'Persones',
            },
            managers=[
                ('objects', cc_users.managers.CCUserManager()),
            ],
        ),
        migrations.CreateModel(
            name='HistoricalProject',
            fields=[
                ('id', models.IntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('name', models.CharField(db_index=True, max_length=200, verbose_name='Nom')),
                ('sector', models.CharField(choices=[('A', 'Altres'), ('C', 'Comunicació i tecnologia'), ('F', 'Finances'), ('O', 'Oci'), ('H', 'Habitatge'), ('L', 'Logística'), ('E', 'Educació'), ('C', 'Cultura'), ('S', 'Assessorament')], max_length=2)),
                ('web', models.CharField(blank=True, max_length=200, verbose_name='Web')),
                ('project_status', models.CharField(blank=True, choices=[('IN_MEDITATION_PROCESS', 'En proces de debat/reflexió'), ('IN_CONSTITUTION_PROCESS', 'En constitució'), ('RUNNING', 'En funcionament')], max_length=50, null=True, verbose_name='Estat del projecte')),
                ('motivation', models.CharField(blank=True, choices=[('COOPERATIVISM_EDUCATION', 'Formació en cooperativimse'), ('COOPERATIVE_CREATION', "Constitució d'una cooperativa"), ('TRANSFORM_FROM_ASSOCIATION', "Transformació d'associació a coopetiva"), ('TRANSFORM_FROM_SCP', 'Transformació de SCP a coopertiva'), ('ENTERPRISE_RELIEF', 'Relleu empresarial'), ('CONSOLIDATION', 'Consolidació'), ('OTHER', 'Altres')], max_length=50, null=True, verbose_name='Petició inicial')),
                ('mail', models.EmailField(max_length=254, verbose_name='Correu electrònic')),
                ('phone', models.CharField(max_length=25, verbose_name='Telèfon')),
                ('district', models.TextField(blank=True, choices=[('CV', 'Ciutat Vella'), ('EX', 'Eixample'), ('HG', 'Horta-Guinardó'), ('LC', 'Les Corts'), ('NB', 'Nou Barris'), ('SA', 'Sant Andreu'), ('SM', 'Sant Martí'), ('ST', 'Sants-Montjuïc'), ('SS', 'Sarrià-Sant Gervasi'), ('GR', 'Gràcia')], null=True, verbose_name='Districte')),
                ('number_people', models.IntegerField(blank=True, null=True, verbose_name='Número de persones')),
                ('registration_date', models.DateField(blank=True, null=True, verbose_name='Data de registre')),
                ('cif', models.CharField(blank=True, max_length=11, null=True, verbose_name='NIF')),
                ('subsidy_period', models.TextField(blank=True, choices=[('2018', '2018'), ('2019', '2019')], null=True, verbose_name='Convocatòria')),
                ('object_finality', models.TextField(blank=True, null=True, verbose_name='Objecte i finalitat')),
                ('project_origins', models.TextField(blank=True, null=True, verbose_name='Orígens del projecte')),
                ('solves_necessities', models.TextField(blank=True, null=True, verbose_name='Quines necessitats resol el vostre projecte?')),
                ('social_base', models.TextField(blank=True, null=True, verbose_name='Compta el vostre projecte amb una base social?')),
                ('constitution_date', models.DateField(blank=True, null=True, verbose_name='Data de constitució')),
                ('estatuts', models.TextField(blank=True, max_length=250, null=True, verbose_name='Estatuts')),
                ('viability', models.TextField(blank=True, max_length=250, null=True, verbose_name='Pla de viabilitat')),
                ('sostenibility', models.TextField(blank=True, max_length=250, null=True, verbose_name='Pla de sostenibilitat')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField()),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('project_responsible', models.ForeignKey(blank=True, db_constraint=False, help_text="Persona de l'equip al càrrec de l'acompanyament. Per aparèixer al desplegable, cal que la persona tingui activada la opció 'Membre del personal'.", null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Persona responsable')),
            ],
            options={
                'verbose_name': 'historical Projecte',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': 'history_date',
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalUser',
            fields=[
                ('id', models.IntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('first_name', models.CharField(blank=True, max_length=30, verbose_name='first name')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='last name')),
                ('is_staff', models.BooleanField(default=False, help_text='Designates whether the user can log into this admin site.', verbose_name='staff status')),
                ('is_active', models.BooleanField(default=True, help_text='Designates whether this user should be treated as active. Unselect this instead of deleting accounts.', verbose_name='active')),
                ('date_joined', models.DateTimeField(default=django.utils.timezone.now, verbose_name='date joined')),
                ('email', models.EmailField(db_index=True, max_length=254, verbose_name='Correu electrònic')),
                ('is_confirmed', models.BooleanField(default=False)),
                ('username', models.CharField(max_length=150, verbose_name="Nom d'usuari/a")),
                ('surname2', models.CharField(blank=True, max_length=50, null=True, verbose_name='Segon cognom')),
                ('id_number', models.CharField(max_length=11, verbose_name='DNI o NIE')),
                ('gender', models.TextField(blank=True, choices=[('A', 'Altre'), ('D', 'Dona'), ('H', 'Home')], null=True, verbose_name='Gènere')),
                ('birthdate', models.DateField(blank=True, null=True, verbose_name='Data de naixement')),
                ('birth_place', models.TextField(blank=True, choices=[('B', 'Barcelona'), ('C', 'Catalunya'), ('E', 'Espanya'), ('A', 'Altre')], null=True, verbose_name='Lloc de naixement')),
                ('residence_town', models.CharField(blank=True, choices=[('78', 'Badalona'), ('79', 'Badia del Vallès'), ('89', 'Barberà del vallès'), ('90', 'Barcelona'), ('96', 'Begues'), ('200', 'Castellbisbal'), ('203', 'Castelldefels'), ('226', 'Cerdanyola del Vallès'), ('227', 'Cervelló'), ('246', 'Corbera de Llobregat'), ('250', 'Cornellà de Llobregat'), ('527', 'El Papiol'), ('581', 'El Prat de Llobregat'), ('269', 'Esplugues de Llobregat'), ('323', 'Gavà'), ('356', "L'Hospitalet de Llobregat"), ('523', 'La Palma de Cervelló'), ('441', 'Molins de Rei'), ('452', 'Montcada i Reixac '), ('459', 'Montgat'), ('522', 'Pallejà'), ('621', 'Ripollet'), ('653', 'Sant Adrià de Besòs'), ('655', 'Sant Andreu de la barca'), ('661', 'Sant Boi de Llobregat'), ('666', 'Sant Climent de Llobregat'), ('668', 'Sant Cugat del Valles'), ('676', 'Sant Feliu de Llobregat'), ('695', 'Sant Joan Despí'), ('702', 'Sant Just Desvern'), ('738', 'Sant Vicenç dels Horts'), ('743', 'Santa Coloma de Gramenet'), ('818', 'Tiana'), ('841', 'Torrelles de Llobregat'), ('899', 'Viladencans'), ('0', 'Altres')], max_length=150, null=True, verbose_name='Municipi de residència')),
                ('residence_district', models.TextField(blank=True, choices=[('CV', 'Ciutat Vella'), ('EX', 'Eixample'), ('HG', 'Horta-Guinardó'), ('LC', 'Les Corts'), ('NB', 'Nou Barris'), ('SA', 'Sant Andreu'), ('SM', 'Sant Martí'), ('ST', 'Sants-Montjuïc'), ('SS', 'Sarrià-Sant Gervasi'), ('GR', 'Gràcia')], null=True, verbose_name='Barri')),
                ('phone_number', models.CharField(blank=True, max_length=25, null=True, verbose_name='Telèfon')),
                ('educational_level', models.TextField(blank=True, choices=[('MP', 'Màster / Postgrau'), ('SD', 'Secundària'), ('SE', 'Sense estudis'), ('FP', 'Formació professional'), ('FU', 'Estudis universitaris'), ('PR', 'Primària')], null=True, verbose_name="Nivell d'estudis")),
                ('employment_situation', models.TextField(blank=True, choices=[('AP', 'En actiu per compte propi'), ('PS', 'Perceptora de prestacions socials'), ('DO', "Demandant d'ocupació"), ('AA', 'En actiu per compte aliè')], null=True, verbose_name='Situació laboral')),
                ('discovered_us', models.TextField(blank=True, choices=[('IN', 'Per internet i xarxes socials'), ('CO', "A través d'un conegut"), ('AC', 'Per una activitat de Coòpolis'), ('AL', 'Altres')], null=True, verbose_name='Com ens has conegut')),
                ('cooperativism_knowledge', models.TextField(blank=True, help_text='Tens coneixements / formació / experiència en cooperativisme? Quina? Cursos realitzats?', null=True, verbose_name='Coneixements previs')),
                ('adreca_tipus_via', models.CharField(blank=True, max_length=50, null=True, verbose_name='Tipus de via')),
                ('adreca_nom_via', models.CharField(blank=True, max_length=150, null=True, verbose_name='Nom de la via')),
                ('adreca_numero', models.CharField(blank=True, max_length=50, null=True, verbose_name='Número')),
                ('adreca_bloc', models.CharField(blank=True, max_length=50, null=True, verbose_name='Bloc / Escala')),
                ('adreca_planta', models.CharField(blank=True, max_length=50, null=True, verbose_name='Planta')),
                ('adreca_porta', models.CharField(blank=True, max_length=50, null=True, verbose_name='Porta')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField()),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Persona',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': 'history_date',
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='Project',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200, unique=True, verbose_name='Nom')),
                ('sector', models.CharField(choices=[('A', 'Altres'), ('C', 'Comunicació i tecnologia'), ('F', 'Finances'), ('O', 'Oci'), ('H', 'Habitatge'), ('L', 'Logística'), ('E', 'Educació'), ('C', 'Cultura'), ('S', 'Assessorament')], max_length=2)),
                ('web', models.CharField(blank=True, max_length=200, verbose_name='Web')),
                ('project_status', models.CharField(blank=True, choices=[('IN_MEDITATION_PROCESS', 'En proces de debat/reflexió'), ('IN_CONSTITUTION_PROCESS', 'En constitució'), ('RUNNING', 'En funcionament')], max_length=50, null=True, verbose_name='Estat del projecte')),
                ('motivation', models.CharField(blank=True, choices=[('COOPERATIVISM_EDUCATION', 'Formació en cooperativimse'), ('COOPERATIVE_CREATION', "Constitució d'una cooperativa"), ('TRANSFORM_FROM_ASSOCIATION', "Transformació d'associació a coopetiva"), ('TRANSFORM_FROM_SCP', 'Transformació de SCP a coopertiva'), ('ENTERPRISE_RELIEF', 'Relleu empresarial'), ('CONSOLIDATION', 'Consolidació'), ('OTHER', 'Altres')], max_length=50, null=True, verbose_name='Petició inicial')),
                ('mail', models.EmailField(max_length=254, verbose_name='Correu electrònic')),
                ('phone', models.CharField(max_length=25, verbose_name='Telèfon')),
                ('district', models.TextField(blank=True, choices=[('CV', 'Ciutat Vella'), ('EX', 'Eixample'), ('HG', 'Horta-Guinardó'), ('LC', 'Les Corts'), ('NB', 'Nou Barris'), ('SA', 'Sant Andreu'), ('SM', 'Sant Martí'), ('ST', 'Sants-Montjuïc'), ('SS', 'Sarrià-Sant Gervasi'), ('GR', 'Gràcia')], null=True, verbose_name='Districte')),
                ('number_people', models.IntegerField(blank=True, null=True, verbose_name='Número de persones')),
                ('registration_date', models.DateField(blank=True, null=True, verbose_name='Data de registre')),
                ('cif', models.CharField(blank=True, max_length=11, null=True, verbose_name='NIF')),
                ('subsidy_period', models.TextField(blank=True, choices=[('2018', '2018'), ('2019', '2019')], null=True, verbose_name='Convocatòria')),
                ('object_finality', models.TextField(blank=True, null=True, verbose_name='Objecte i finalitat')),
                ('project_origins', models.TextField(blank=True, null=True, verbose_name='Orígens del projecte')),
                ('solves_necessities', models.TextField(blank=True, null=True, verbose_name='Quines necessitats resol el vostre projecte?')),
                ('social_base', models.TextField(blank=True, null=True, verbose_name='Compta el vostre projecte amb una base social?')),
                ('constitution_date', models.DateField(blank=True, null=True, verbose_name='Data de constitució')),
                ('estatuts', models.FileField(blank=True, max_length=250, null=True, upload_to=coopolis.models.estatuts_upload_path, verbose_name='Estatuts')),
                ('viability', models.FileField(blank=True, max_length=250, null=True, upload_to=coopolis.models.estatuts_upload_path, verbose_name='Pla de viabilitat')),
                ('sostenibility', models.FileField(blank=True, max_length=250, null=True, upload_to=coopolis.models.estatuts_upload_path, verbose_name='Pla de sostenibilitat')),
                ('project_responsible', models.ForeignKey(blank=True, help_text="Persona de l'equip al càrrec de l'acompanyament. Per aparèixer al desplegable, cal que la persona tingui activada la opció 'Membre del personal'.", null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='project_responsible', to=settings.AUTH_USER_MODEL, verbose_name='Persona responsable')),
            ],
            options={
                'verbose_name': 'Projecte',
                'verbose_name_plural': 'Projectes',
            },
        ),
        migrations.AddField(
            model_name='historicaluser',
            name='project',
            field=models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='coopolis.Project', verbose_name='Projecte'),
        ),
        migrations.AddField(
            model_name='user',
            name='project',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='coopolis.Project', verbose_name='Projecte'),
        ),
        migrations.AddField(
            model_name='user',
            name='user_permissions',
            field=models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.Permission', verbose_name='user permissions'),
        ),
    ]
