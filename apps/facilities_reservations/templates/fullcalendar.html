<!DOCTYPE html>
<html lang='en'>
  <head>
  {% load staticfiles %}
    <meta charset='utf-8' />

    <link rel="stylesheet" href="{% static 'fullcalendar/core/main.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'fullcalendar/daygrid/main.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'fullcalendar/timegrid/main.css' %}" type="text/css">

    <script src="{% static 'fullcalendar/core/main.js' %}"></script>
    <script src="{% static 'fullcalendar/core/locales/ca.js' %}"></script>
    <script src="{% static 'fullcalendar/daygrid/main.js' %}"></script>
    <script src="{% static 'fullcalendar/timegrid/main.js' %}"></script>
    <script src="{% static 'fullcalendar/interaction/main.js' %}"></script>

    <style>
      html, body {
        margin: 0;
        padding: 0;
        font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
        font-size: 14px;
      }

      #calendar {
        max-width: 900px;
        margin: 40px auto;
      }
    </style>
    <script>

    document.addEventListener('DOMContentLoaded', function() {
      var calendarEl = document.getElementById('calendar');

      var calendar = new FullCalendar.Calendar(calendarEl, {
        locale: 'ca',
        plugins: [ 'dayGrid', 'timeGrid', 'interaction' ],
        header: {
          left: 'dayGridMonth,timeGridWeek',
          center: 'title',
          right: 'prev,next'
        },

        // Time Grid:
        defaultView: 'timeGridWeek',
        allDaySlot: false,
        maxTime: "22:00:00",

        // Date & Time Display:
        weekends: false,

        // Date Clicking & Selecting:
        selectable: true,
        selectMirror: true,
        select: function(info) {
          alert('Periode seleccionat: ' + info.startStr + ' a ' + info.endStr);
        },

        events: {
          url: '/reservations/ajax/calendar/',
          error: function() {
              console.log("Error: no s'han pogut carregar les dades del calendari.");
          }
        }
      });

      calendar.render();
    });

    </script>
  </head>
  <body>

    <div id='calendar'></div>

  </body>
</html>